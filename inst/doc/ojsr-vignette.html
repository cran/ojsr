<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Gaston Becerra" />


<title>ojsr-vignette</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">ojsr-vignette</h1>
<h4 class="author">Gaston Becerra</h4>



<div id="overview" class="section level1">
<h1>Overview</h1>
<p>ojsr allows you to crawl OJS archives, issues, articles, galleys, and search results, and retrieve metadata from articles.</p>
<p><strong>Important Notes:</strong></p>
<ul>
<li><strong>ojsr functions rely on OJS routing conventions</strong>, therefore, OJS installations using custom routing conventions will most probably fail (see <a href="https://docs.pkp.sfu.ca/dev/documentation/en/architecture-routes" class="uri">https://docs.pkp.sfu.ca/dev/documentation/en/architecture-routes</a>);</li>
<li><strong>ojsr does not scrape the URL you provide</strong>. ojsr composes the required URL for different scrapping scenarios (e.g., if you are scrapping articles from an issue, it will parse and browse the issue’s ToC).</li>
</ul>
<div id="about-ojs" class="section level2">
<h2>About OJS</h2>
<p>(from the OJS documentation <a href="https://pkp.sfu.ca/ojs/" class="uri">https://pkp.sfu.ca/ojs/</a>, as of Jan.2020)</p>
<p>Open Journal Systems (OJS) is a journal management and publishing system that has been developed by the Public Knowledge Project through its federally funded efforts to expand and improve access to research.</p>
<p>OJS assists with every stage of the refereed publishing process, from submissions through to online publication and indexing. Through its management systems, its finely grained indexing of research, and the context it provides for research, OJS seeks to improve both the scholarly and public quality of refereed research.</p>
<p>OJS is open source software made freely available to journals worldwide for the purpose of making open access publishing a viable option for more journals, as open access can increase a journal’s readership as well as its contribution to the public good on a global scale (see PKP Publications).</p>
</div>
<div id="ojs-api" class="section level2">
<h2>OJS API</h2>
<p>Since OJS v3.1+ <a href="https://docs.pkp.sfu.ca/dev/api/ojs/3.1" class="uri">https://docs.pkp.sfu.ca/dev/api/ojs/3.1</a> a Rest API is provided. We are positive a better R interface should use that API instead of web scraping. So, why ojsr? According to <a href="https://pkp.sfu.ca/ojs/ojs-usage/ojs-stats/" class="uri">https://pkp.sfu.ca/ojs/ojs-usage/ojs-stats/</a>, as of 2019 (when v3.1+ was launched), at least 10,000 journals worldwide have been using OJS. OJS is an excellent free publishing solution for institutions that could probably not publish otherwise, and, presumably, cannot afford to update constantly. ojsr aims to help crawling and retrieving info from OJS during this legacy period.</p>
</div>
</div>
<div id="example" class="section level1">
<h1>Example</h1>
<div id="scraping-complete-journals-to-compare-their-most-common-keywords" class="section level2">
<h2>Scraping complete journals to compare their most common keywords</h2>
<p>Let’s say we want to scrape metadata from a collection of journals to compare them. We have their names and URLs, and can use ojsr to scrape their issues, articles, and metadata.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co"># first, load the library</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(ojsr)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co"># we&#39;ll use dplyr and ggplot later in this vignette</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">#&gt; -- Attaching packages ---------------------------------------------------------------------------------- tidyverse 1.3.0 --</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co">#&gt; v ggplot2 3.3.1     v purrr   0.3.4</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">#&gt; v tibble  3.0.1     v dplyr   1.0.0</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co">#&gt; v tidyr   1.1.0     v stringr 1.4.0</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co">#&gt; v readr   1.3.1     v forcats 0.5.0</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">#&gt; -- Conflicts ------------------------------------------------------------------------------------- tidyverse_conflicts() --</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co">#&gt; x dplyr::filter() masks stats::filter()</span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span></span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co"># our collection of journals</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>journals &lt;-<span class="st"> </span><span class="kw">data.frame</span> ( <span class="kw">cbind</span>(</span>
<span id="cb1-18"><a href="#cb1-18"></a>    <span class="dt">name =</span> <span class="kw">c</span>( </span>
<span id="cb1-19"><a href="#cb1-19"></a>      <span class="st">&quot;Psicodebate&quot;</span>,</span>
<span id="cb1-20"><a href="#cb1-20"></a>      <span class="st">&quot;Odisea&quot;</span></span>
<span id="cb1-21"><a href="#cb1-21"></a>      ),</span>
<span id="cb1-22"><a href="#cb1-22"></a>    <span class="dt">url =</span> <span class="kw">c</span>(</span>
<span id="cb1-23"><a href="#cb1-23"></a>      <span class="st">&quot;https://dspace.palermo.edu/ojs/index.php/psicodebate/issue/archive&quot;</span>,</span>
<span id="cb1-24"><a href="#cb1-24"></a>      <span class="st">&quot;https://publicaciones.sociales.uba.ar/index.php/odisea&quot;</span></span>
<span id="cb1-25"><a href="#cb1-25"></a>      )</span>
<span id="cb1-26"><a href="#cb1-26"></a>  ), <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span></span>
<span id="cb1-27"><a href="#cb1-27"></a>)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co"># we are using the journal url as input to retrieve issues</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>issues &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">get_issues_from_archive</span>(<span class="dt">input_url =</span> journals<span class="op">$</span>url) </span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co"># we are using the issues url we just scraped as input to retrieve articles</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>articles &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">get_articles_from_issue</span>(<span class="dt">input_url =</span> issues<span class="op">$</span>output_url)</span>
<span id="cb2-7"><a href="#cb2-7"></a></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co"># we are using the articles url we just scraped as the input to retrieve metadata</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>metadata &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">get_html_meta_from_article</span>(<span class="dt">input_url =</span> articles<span class="op">$</span>output_url)</span></code></pre></div>
<p>Before doing some analysis, let’s bind these together to have a better understanding of our journals. Since we are interested in summarizing by journal, we can use <code>ojsr::parse_base_url()</code> on our tables to have a binding value.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co"># we are including the base_url on each table to simplify joining</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>journals<span class="op">$</span>base_url &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">parse_base_url</span>(journals<span class="op">$</span>url)</span>
<span id="cb3-4"><a href="#cb3-4"></a>issues<span class="op">$</span>base_url &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">parse_base_url</span>(issues<span class="op">$</span>input_url)</span>
<span id="cb3-5"><a href="#cb3-5"></a>articles<span class="op">$</span>base_url &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">parse_base_url</span>(articles<span class="op">$</span>input_url)</span>
<span id="cb3-6"><a href="#cb3-6"></a>metadata<span class="op">$</span>base_url &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">parse_base_url</span>(metadata<span class="op">$</span>input_url)</span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co"># a journal / issue / articles / metadata table</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>journals <span class="op">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="st">  </span><span class="kw">left_join</span>( </span>
<span id="cb3-11"><a href="#cb3-11"></a>    issues <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>( base_url , <span class="dt">name=</span><span class="st">&quot;n_issues&quot;</span>) , </span>
<span id="cb3-12"><a href="#cb3-12"></a>    <span class="dt">by=</span><span class="st">&quot;base_url&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="st">  </span><span class="kw">left_join</span>( </span>
<span id="cb3-14"><a href="#cb3-14"></a>    articles <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>( base_url , <span class="dt">name=</span><span class="st">&quot;n_articles&quot;</span>) , </span>
<span id="cb3-15"><a href="#cb3-15"></a>    <span class="dt">by=</span><span class="st">&quot;base_url&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="st">  </span><span class="kw">left_join</span>( </span>
<span id="cb3-17"><a href="#cb3-17"></a>    metadata <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>( base_url , <span class="dt">name=</span><span class="st">&quot;n_metadata&quot;</span>) , </span>
<span id="cb3-18"><a href="#cb3-18"></a>    <span class="dt">by=</span><span class="st">&quot;base_url&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="st">  </span><span class="kw">select</span>( name, n_issues, n_articles, n_metadata )</span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="co">#&gt;          name n_issues n_articles n_metadata</span></span>
<span id="cb3-21"><a href="#cb3-21"></a><span class="co">#&gt; 1 Psicodebate       25        182       9669</span></span>
<span id="cb3-22"><a href="#cb3-22"></a><span class="co">#&gt; 2      Odisea        6         66       3063</span></span></code></pre></div>
<p>Now we can do our analysis: exploring main keywords per journal. For this, we keep only non-empty keywords metadata in Spanish; then, we pick the 3 most frequent keywords (you would typically do some cleanup and normalization first); finally we plot by journal.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a></span>
<span id="cb4-2"><a href="#cb4-2"></a>metadata <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="st">  </span><span class="kw">filter</span>(</span>
<span id="cb4-4"><a href="#cb4-4"></a>      meta_data_name<span class="op">==</span><span class="st">&quot;citation_keywords&quot;</span>, </span>
<span id="cb4-5"><a href="#cb4-5"></a>      meta_data_xmllang<span class="op">==</span><span class="st">&quot;es&quot;</span>,</span>
<span id="cb4-6"><a href="#cb4-6"></a>      <span class="kw">trimws</span>(meta_data_content)<span class="op">!=</span><span class="st">&quot;&quot;</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>    ) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># filtering keywords</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="st">  </span><span class="kw">group_by</span>(base_url, <span class="dt">keyword =</span> meta_data_content) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="st">  </span><span class="kw">tally</span>(<span class="dt">sort=</span><span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">top_n</span>(<span class="dt">wt =</span> n, <span class="dt">n =</span> <span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># 3 most frequent keywords by journal</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="st">  </span><span class="kw">left_join</span>( journals , <span class="dt">by=</span><span class="st">&quot;base_url&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># let&#39;s include the journal names</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(keyword,n),<span class="dt">y=</span>n)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="st">    </span><span class="kw">facet_wrap</span>(<span class="op">~</span>name, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="st">    </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="st">    </span><span class="kw">coord_flip</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>
<div id="function-reference" class="section level1">
<h1>Function reference</h1>
<div id="get_issues_from_archive-scraping-issues-urls-from-the-ojs-issues-archive" class="section level2">
<h2>get_issues_from_archive: Scraping issues’ URLs from the OJS issues archive</h2>
<p><code>get_issues_from_archive()</code> takes a vector of OJS URLs and scrapes the issues URLs from the <em>issue archive</em> (e.g., <a href="https://papiro.unizar.es/ojs/index.php/rc51-jos/issue/archive" class="uri">https://papiro.unizar.es/ojs/index.php/rc51-jos/issue/archive</a>).</p>
<p>You don’t need to provide the actual URL to issue archives. <code>get_issues_from_archive()</code> parses the URL you provide to compose it. Then, it looks for links containing “/issue/view” in the href. Links are post-processed to comply to OJS routing conventions before returning.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a></span>
<span id="cb5-2"><a href="#cb5-2"></a>journals &lt;-<span class="st"> </span><span class="kw">c</span>( </span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="st">&#39;https://dspace.palermo.edu/ojs/index.php/psicodebate/issue/archive&#39;</span>, <span class="co"># issue archive</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="st">&#39;https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/2903&#39;</span> <span class="co"># article</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>)</span>
<span id="cb5-6"><a href="#cb5-6"></a></span>
<span id="cb5-7"><a href="#cb5-7"></a>issues &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">get_issues_from_archive</span>(<span class="dt">input_url =</span> journals)</span></code></pre></div>
<p>The result is a long-format data frame (1 input_url may result in several rows, one for each output_url) containing:</p>
<ol style="list-style-type: decimal">
<li><em>input_url</em> - the URL you provided</li>
<li><em>output_url</em> - the issues’ URL that has been scraped</li>
</ol>
</div>
<div id="get_articles_from_issue-scraping-articles-urls-from-the-toc-of-ojs-issues" class="section level2">
<h2>get_articles_from_issue: Scraping articles URLs from the ToC of OJS issues</h2>
<p><code>get_articles_from_issue()</code> takes a vector of OJS (issue) URLs and scrapes the links to articles from the issues table of content (e.g., <a href="https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/issue/view/319/showToc" class="uri">https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/issue/view/319/showToc</a>).</p>
<p>You don’t need to provide the actual URL of the issues’ ToC, but you must provide URLs that include issue ID (articles URLs do not include this info!). <code>get_articles_from_issue()</code> parses the URL you provide to compose the ToC URL. Then, it looks for links containing “/article/view” in the href. Links are post-processed to comply to OJS routing conventions before returning.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a></span>
<span id="cb6-2"><a href="#cb6-2"></a>issues &lt;-<span class="st"> </span><span class="kw">c</span>( </span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="st">&#39;https://revistas.ucn.cl/index.php/saludysociedad/issue/view/65&#39;</span>, <span class="co"># issue including ToC</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="st">&#39;https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/issue/view/31&#39;</span> <span class="co"># no ToC nor links</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>)</span>
<span id="cb6-6"><a href="#cb6-6"></a></span>
<span id="cb6-7"><a href="#cb6-7"></a>articles &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">get_articles_from_issue</span>(<span class="dt">input_url =</span> issues) </span></code></pre></div>
<p>The result is a long-format dataframe (1 input_url may result in several rows, one for each output_url), containing:</p>
<ol style="list-style-type: decimal">
<li><em>input_url</em> - the URL you provided</li>
<li><em>output_url</em> - the articles URL that has been scraped</li>
</ol>
</div>
<div id="get_articles_from_search-scraping-ojs-search-results-for-a-given-criteria-to-retrieve-articles-url" class="section level2">
<h2>get_articles_from_search: Scraping OJS search results for a given criteria to retrieve articles’ URL</h2>
<p><code>get_articles_from_search()</code> takes a vector of OJS URLs and a string for search criteria to compose search result URLs, then it scrapes them to retrieve the articles’ URLs.</p>
<p>You don’t need to provide the actual URL of the search result pages. <code>get_articles_from_search()</code> parses the URL you provide to compose the search result page(s) URL. If pagination is involved, necessary links are also included. Then, it looks for links containing “/article/view” in the href. Links are post-processed to comply to OJS routing conventions before returning.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a></span>
<span id="cb7-2"><a href="#cb7-2"></a>journals &lt;-<span class="st"> </span><span class="kw">c</span>( </span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="st">&#39;https://revistapsicologia.uchile.cl/index.php/RDP/&#39;</span>, </span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="st">&#39;https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/issue/current&#39;</span> </span>
<span id="cb7-5"><a href="#cb7-5"></a>)</span>
<span id="cb7-6"><a href="#cb7-6"></a></span>
<span id="cb7-7"><a href="#cb7-7"></a>criteria &lt;-<span class="st"> &quot;psicologia&quot;</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>articles_search &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">get_articles_from_search</span>(<span class="dt">input_url =</span> journals, <span class="dt">search_criteria =</span> criteria)</span></code></pre></div>
<p>The result is a long-format dataframe (1 input_url may result in several rows, one for each output_url), containing:</p>
<ol style="list-style-type: decimal">
<li><em>input_url</em> - the URL you provided</li>
<li><em>output_url</em> - the article URL</li>
</ol>
</div>
<div id="get_galleys_from_article-scraping-galleys-urls-from-ojs-articles" class="section level2">
<h2>get_galleys_from_article: Scraping galleys URLs from OJS articles</h2>
<p><em>Galleys</em> are the final presentation version of the articles content. Most of the time, these include full content in PDF and other reading formats. Less often, they are supplementary files (tables, dataset) in different formats.</p>
<p><code>get_galleys_from_article()</code> takes a vector of OJS URLs and scrapes all the galleys URLs from the <em>article view</em> (e.g., <a href="https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/593" class="uri">https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/593</a>).</p>
<p>You may provide any article-level URL (article abstract view, inline view, PDF direct download, etc.). <code>get_galleys_from_article()</code> parses the URL you provide to compose the article view URL. Then, it looks for links containing “/article/view” in the href. Links are post-processed to comply to OJS routing conventions before returning (i.e., having a galley ID).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a></span>
<span id="cb8-2"><a href="#cb8-2"></a>articles &lt;-<span class="st"> </span><span class="kw">c</span>( </span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="st">&#39;https://revistapsicologia.uchile.cl/index.php/RDP/article/view/55657&#39;</span>, <span class="co"># galleys pdf and mp3</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="st">&#39;https://dspace.palermo.edu/ojs/index.php/psicodebate/article/view/516/311&#39;</span> <span class="co"># inline reader</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>)</span>
<span id="cb8-6"><a href="#cb8-6"></a></span>
<span id="cb8-7"><a href="#cb8-7"></a>galleys &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">get_galleys_from_article</span>(<span class="dt">input_url =</span> articles) </span></code></pre></div>
<p>The result is a long-format dataframe (1 input_url may result in several rows, one for each output_url), containing:</p>
<ol style="list-style-type: decimal">
<li><em>input_url</em> - the URL you provided</li>
<li><em>output_url</em> - the galleys URL that has been scraped</li>
<li><em>format</em> - the format of the galley (e.g., PDF, XML)</li>
<li><em>download_url</em> - the conventional URL to force galley download. You may pass these to a download function of your own (e.g., <a href="https://stackoverflow.com/questions/39246739/download-multiple-files-using-download-file-function" class="uri">https://stackoverflow.com/questions/39246739/download-multiple-files-using-download-file-function</a>).</li>
</ol>
</div>
<div id="get_html_meta_from_article-scraping-metadata-from-the-ojs-articles-html" class="section level2">
<h2>get_html_meta_from_article: Scraping metadata from the OJS articles HTML</h2>
<p><code>get_html_meta_from_article()</code> takes a vector of OJS URLs and scrapes all metadata written in HTML from the <em>article view</em> (e.g., <a href="https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/593" class="uri">https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/593</a>).</p>
<p>You may provide any article-level URL (article abstract view, inline view, PDF direct download, etc.). <code>get_html_meta_from_article()</code> parses the URL you provide to compose the URL of the article view. Then, it looks for &lt;meta&gt; tags in the &lt;head&gt; section of the HTML. <strong>Important!</strong> This may not only retrieve bibliographic metadata; any other “meta” property detailed on the HTML will be obtained (e.g., descriptions for propagation on social network, etc.).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a></span>
<span id="cb9-2"><a href="#cb9-2"></a>articles &lt;-<span class="st"> </span><span class="kw">c</span>( </span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="st">&#39;https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/2137&#39;</span>, <span class="co"># article</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="st">&#39;https://dspace.palermo.edu/ojs/index.php/psicodebate/article/view/516/311&#39;</span> <span class="co"># xml galley</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>)</span>
<span id="cb9-6"><a href="#cb9-6"></a></span>
<span id="cb9-7"><a href="#cb9-7"></a>metadata &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">get_html_meta_from_article</span>(<span class="dt">input_url =</span> articles) </span></code></pre></div>
<p>The result is a long-format dataframe (1 input_url may result in several rows, one for each output_url), containing:</p>
<ol style="list-style-type: decimal">
<li><em>input_url</em> - the URL you provided</li>
<li><em>meta_data_name</em> - name of the property/metadata (e.g., “DC.Date.created” for the Date of creation)</li>
<li><em>meta_data_content</em> - the actual metatag value</li>
<li><em>meta_data_scheme</em> - the standard in which the content is annotated</li>
<li><em>meta_data_xmllang</em> - the language in which the metadata was entered</li>
</ol>
</div>
<div id="get_oai_meta_from_article-retrieving-oai-records-for-ojs-articles" class="section level2">
<h2>get_oai_meta_from_article: Retrieving OAI records for OJS articles</h2>
<p>An alternative to web scraping metadata from the article pages HTML is to retrieve their OAI-PMH (Open Archives Initiative Protocol for ‘Metadata’ Harvesting) records <a href="http://www.openarchives.org/OAI/openarchivesprotocol.html" class="uri">http://www.openarchives.org/OAI/openarchivesprotocol.html</a></p>
<p><code>get_oai_meta_from_article()</code> will try to access the OAI records within the OJS for any article (e.g., <a href="https://fundacionmenteclara.org.ar/revista/index.php/RCA/oai/?verb=GetRecord&amp;identifier=oai:ojs.fundacionmenteclara.org.ar:article/43&amp;metadataPrefix=oai_dc" class="uri">https://fundacionmenteclara.org.ar/revista/index.php/RCA/oai/?verb=GetRecord&amp;identifier=oai:ojs.fundacionmenteclara.org.ar:article/43&amp;metadataPrefix=oai_dc</a>) whose URL you have provided.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a></span>
<span id="cb10-2"><a href="#cb10-2"></a>articles &lt;-<span class="st"> </span><span class="kw">c</span>(  </span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="st">&#39;https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/2137&#39;</span>, <span class="co"># article</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="st">&#39;https://dspace.palermo.edu/ojs/index.php/psicodebate/article/view/516/311&#39;</span> <span class="co"># xml galley</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>)</span>
<span id="cb10-6"><a href="#cb10-6"></a></span>
<span id="cb10-7"><a href="#cb10-7"></a>metadata_oai &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">get_oai_meta_from_article</span>(<span class="dt">input_url =</span> articles)</span></code></pre></div>
<p>The result is a long-format dataframe (1 input_url may result in several rows, one for each output_url), containing:</p>
<ol style="list-style-type: decimal">
<li><em>input_url</em> - the URL you provided</li>
<li><em>meta_data_name</em> - name of the property/metadata (e.g., “DC.Date.created” for the Date of creation)</li>
<li><em>meta_data_content</em> - the actual metatag value</li>
<li><em>meta_data_scheme</em> - <strong>it always returns NA</strong> (included just for easier binding with <code>get_html_meta_from_article()</code> results)</li>
<li><em>meta_data_xmllang</em> - <strong>it always returns NA</strong> (included just for easier binding with <code>get_html_meta_from_article()</code> results)</li>
</ol>
<p><strong>Note: This function is in a very preliminary stage</strong>. If you are interested in working with OAI records, you may want to check Scott Chamberlain’s <strong>OAI package for R</strong> <a href="https://CRAN.R-project.org/package=oai" class="uri">https://CRAN.R-project.org/package=oai</a>. If you only have the OJS home url, and would like to check all the article’s OAI records at one shot, an interesting option is to parse it with <code>ojsr::parse_oai_url()</code> and passing the output_url to <code>oai::list_identifiers()</code>.</p>
</div>
<div id="parse_base_url-parsing-urls-against-ojs-routing-conventions-to-retrieve-the-base-url" class="section level2">
<h2>parse_base_url: Parsing URLs against OJS routing conventions to retrieve the base URL</h2>
<p><code>parse_base_url()</code> takes a vector of OJS URLs and retrieves their base URL, according to OJS routing conventions.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a></span>
<span id="cb11-2"><a href="#cb11-2"></a>mix_links &lt;-<span class="st"> </span><span class="kw">c</span>(</span>
<span id="cb11-3"><a href="#cb11-3"></a>   <span class="st">&#39;https://dspace.palermo.edu/ojs/index.php/psicodebate/issue/archive&#39;</span>,</span>
<span id="cb11-4"><a href="#cb11-4"></a>   <span class="st">&#39;https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/2903&#39;</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>)</span>
<span id="cb11-6"><a href="#cb11-6"></a></span>
<span id="cb11-7"><a href="#cb11-7"></a>base_url &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">parse_base_url</span>(<span class="dt">input_url =</span> mix_links)</span></code></pre></div>
<p>The result is a vector of the same length of your input.</p>
</div>
<div id="parse_oai_url-parsing-urls-against-ojs-routing-conventions-to-retrieve-the-oai-protocol-url" class="section level2">
<h2>parse_oai_url: Parsing URLs against OJS routing conventions to retrieve the OAI protocol URL</h2>
<p><code>parse_oai_url()</code> takes a vector of OJS URLs and retrieves their OAI entry URL, according to OJS routing conventions.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a></span>
<span id="cb12-2"><a href="#cb12-2"></a>mix_links &lt;-<span class="st"> </span><span class="kw">c</span>(</span>
<span id="cb12-3"><a href="#cb12-3"></a>   <span class="st">&#39;https://dspace.palermo.edu/ojs/index.php/psicodebate/issue/archive&#39;</span>,</span>
<span id="cb12-4"><a href="#cb12-4"></a>   <span class="st">&#39;https://publicaciones.sociales.uba.ar/index.php/psicologiasocial/article/view/2903&#39;</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>)</span>
<span id="cb12-6"><a href="#cb12-6"></a></span>
<span id="cb12-7"><a href="#cb12-7"></a>oai_url &lt;-<span class="st"> </span>ojsr<span class="op">::</span><span class="kw">parse_oai_url</span>(<span class="dt">input_url =</span> mix_links)</span></code></pre></div>
<p>The result is a vector of the same length of your input.</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
